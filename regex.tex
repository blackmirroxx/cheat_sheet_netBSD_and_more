
\documentclass[10pt]{article}
\usepackage[margin=0.5in]{geometry}
\usepackage{fontspec}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{parskip}
\usepackage{multicol}

% Font
\setmonofont{DejaVu Sans Mono}

% Colors
\definecolor{blue1}{RGB}{10,0,255}
\definecolor{blue2}{RGB}{90,0,255}
\definecolor{blue3}{RGB}{120,0,255}
\definecolor{magenta1}{RGB}{190,0,255}
\definecolor{cyan1}{RGB}{0,150,255}
\definecolor{green1}{RGB}{0,255,80}
\definecolor{yellow1}{RGB}{220,150,0}
\definecolor{yellow2}{RGB}{220,100,0}
\definecolor{red1}{RGB}{255,0,0}
\definecolor{red2}{RGB}{255,50,0}

% Listings setup
\lstset{
    basicstyle=\ttfamily\small,
    backgroundcolor=\color{gray!30},
    frame=single,
    columns=fullflexible,
    keepspaces=true,
    tabsize=2,
    breaklines=true,
    breakatwhitespace=true,
    showstringspaces=false
}

\begin{document}
\pagestyle{empty}
\begin{center}
    {\Huge\textbf{Regular Expressions Cheat Sheet}}
\end{center}

\begin{multicols}{2}

\section*{\textcolor{blue1}{Metacharacters (must be escaped)}}
\begin{lstlisting}[frame=single, rulecolor=\color{blue1!70}, backgroundcolor=\color{blue!20}]
Symbol     Meaning
------     -----------------------
^          Start of string
$          End of string
( )        Grouping
< >        Word boundaries
.          Any character
* + ?      Quantifiers
[ ]        Character class
{ }        Repetition
\          Escape
|          Alternation
\end{lstlisting}

\section*{\textcolor{cyan1}{Quantifiers}}
\begin{lstlisting}[frame=single, rulecolor=\color{cyan1!70}, backgroundcolor=\color{cyan1!20}]
Symbol     Meaning
------     -----------------------
*          0 or more
+          1 or more
?          0 or 1
{3}        Exactly 3
{3,}       3 or more
{3,5}      3 to 5
\end{lstlisting}

\section*{\textcolor{green1}{Anchors}}
\begin{lstlisting}[frame=single, rulecolor=\color{green1!70}, backgroundcolor=\color{green1!20}]
Symbol     Meaning
------     -----------------------
^, \A      Start of string
$, \Z      End of string
\b         Word boundary
\B         Not word boundary
\<, \>     Word boundaries
\end{lstlisting}

\section*{\textcolor{yellow1}{POSIX Classes}}
\begin{lstlisting}[frame=single, rulecolor=\color{yellow1!70}, backgroundcolor=\color{yellow1!20}]
[:upper:]    Uppercase letters
[:lower:]    Lowercase letters
[:alpha:]    All letters
[:alnum:]    Letters and digits
[:digit:]    Digits
[:xdigit:]   Hex digits
[:punct:]    Punctuation
[:space:]    Space characters
[:word:]     Letters, digits, underscore
\end{lstlisting}

\section*{\textcolor{yellow2}{Character Classes}}
\begin{lstlisting}[frame=single, rulecolor=\color{yellow1!70}, backgroundcolor=\color{yellow2!20}]
Symbol     Meaning
------     -----------------------
\c         Control character
\s, \S     Whitespace / not whitespace
\d, \D     Digit / not digit
\w, \W     Word / not word
\x, \O     Hex / Octal digit
\end{lstlisting}

\section*{\textcolor{blue2}{Special Characters}}
\begin{lstlisting}[frame=single, rulecolor=\color{blue2!70}, backgroundcolor=\color{blue2!20}]
Symbol     Meaning
------     -----------------------
\n         Newline
\r         Carriage return
\t         Tab
\v         Vertical tab
\f         Form feed
\xxx       Octal character
\xhh       Hex character
\end{lstlisting}

\section*{\textcolor{blue3}{Pattern Modifiers}}
\begin{lstlisting}[frame=single, rulecolor=\color{blue3!70}, backgroundcolor=\color{blue3!20}]
g      Global match
i      Case-insensitive
m      Multi-line
s      Dot matches newline
x      Allow whitespace/comments
e      Evaluate replacement
U      Ungreedy
\end{lstlisting}

\section*{\textcolor{magenta1}{Assertions}}
\begin{lstlisting}[frame=single, rulecolor=\color{magenta1!70}, backgroundcolor=\color{magenta1!20}]
(?=...)   Lookahead
(?!...)   Negative lookahead
(?<=...)  Lookbehind
(?<!...)  Negative lookbehind
(?>...)   Atomic group
(?()|)    Conditional
(?#...)   Comment
\end{lstlisting}

\section*{\textcolor{red1}{Replacement Tokens}}
\begin{lstlisting}[frame=single, rulecolor=\color{red1!70}, backgroundcolor=\color{red1!20}]
$n      nth non-passive group
$1, $2  Match from group 1, 2
$`      Before match
$'      After match
$+      Last match
$&      Entire match
\end{lstlisting}

\section*{\textcolor{red2}{Sample Patterns}}
\begin{lstlisting}[frame=single, rulecolor=\color{red2!70}, backgroundcolor=\color{red2!20}]
([A-Za-z0-9-]+)                  Alphanumeric + hyphens
(\d{1,2}/\d{1,2}/\d{4})          Date (e.g. 21/3/2006)
([^\s]+(?=\.(jpg|gif|png))\.\2)  Image extensions
(^[1-9]$|^[1-4][0-9]$|^50$)      Number 1â€“50
(#?([A-Fa-f0-9]){3,6})           Hex color code
(?=.*\d)(?=.*[a-z])(?=.*[A-Z])   Strong password
(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6}) Email
(\<(/?[^\>]+)\>)                 HTML tags
\end{lstlisting}

\end{multicols}
\end{document}
